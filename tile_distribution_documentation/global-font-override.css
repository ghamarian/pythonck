/* Global Font Override - Ensure consistent typography across all documentation */

/* Root font definitions */
:root {
    --font-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
    --font-monospace: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace !important;
    --font-size-base: 16px;
    --font-size-small: 14px;
    --font-size-tiny: 12px;
    --font-size-h1: 2rem;
    --font-size-h2: 1.75rem;
    --font-size-h3: 1.5rem;
    --font-size-h4: 1.25rem;
    --font-size-h5: 1.125rem;
    --font-size-h6: 1rem;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --line-height-base: 1.6;
    --line-height-heading: 1.3;
}

/* Force all elements to use sans-serif */
* {
    font-family: var(--font-primary) !important;
}

/* Ensure body and html use consistent fonts */
html, body {
    font-family: var(--font-primary) !important;
    font-size: var(--font-size-base) !important;
    font-weight: var(--font-weight-normal) !important;
    line-height: var(--line-height-base) !important;
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

/* Headings - consistent weight and spacing */
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
    font-family: var(--font-primary) !important;
    font-weight: var(--font-weight-semibold) !important;
    line-height: var(--line-height-heading) !important;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
}

h1, .h1 { font-size: var(--font-size-h1) !important; }
h2, .h2 { font-size: var(--font-size-h2) !important; }
h3, .h3 { font-size: var(--font-size-h3) !important; }
h4, .h4 { font-size: var(--font-size-h4) !important; }
h5, .h5 { font-size: var(--font-size-h5) !important; }
h6, .h6 { font-size: var(--font-size-h6) !important; }

/* Paragraphs and body text */
p, div, span, li, td, th {
    font-family: var(--font-primary) !important;
    font-weight: var(--font-weight-normal) !important;
}

/* Code and pre elements */
code, pre, kbd, samp, tt,
.sourceCode, .code, .monospace {
    font-family: var(--font-monospace) !important;
    font-size: 0.875em !important;
    font-weight: var(--font-weight-normal) !important;
}

/* Pre blocks */
pre {
    font-family: var(--font-monospace) !important;
    font-size: 0.875rem !important;
    line-height: 1.5 !important;
}

/* Inline code */
:not(pre) > code {
    font-family: var(--font-monospace) !important;
    font-size: 0.875em !important;
    font-weight: var(--font-weight-normal) !important;
    padding: 0.125em 0.25em;
    background-color: rgba(0, 0, 0, 0.04);
    border-radius: 3px;
}

/* Tables */
table {
    font-family: var(--font-primary) !important;
    font-size: var(--font-size-small) !important;
}

/* Buttons and form elements */
button, input, select, textarea, optgroup {
    font-family: var(--font-primary) !important;
    font-weight: var(--font-weight-normal) !important;
}

/* Links */
a {
    font-family: inherit !important;
    font-weight: inherit !important;
}

/* Strong and bold - reduced weight for cleaner look */
strong, b {
    font-weight: var(--font-weight-medium) !important;
}

/* Emphasis */
em, i {
    font-style: italic !important;
    font-family: var(--font-primary) !important;
}

/* Blockquotes */
blockquote {
    font-family: var(--font-primary) !important;
    font-style: normal !important;
    font-weight: var(--font-weight-normal) !important;
}

/* Navigation and menus */
.navbar, .nav, .menu, .sidebar {
    font-family: var(--font-primary) !important;
}

/* Quarto specific overrides */
.quarto-title, .quarto-title-meta,
.sidebar-title, .sidebar-item,
.toc-title, .toc-item {
    font-family: var(--font-primary) !important;
}

/* Remove any serif fonts from Quarto */
.quarto-document,
.content,
.main-content,
article {
    font-family: var(--font-primary) !important;
}

/* Fix random bold in navigation */
.sidebar-item-text,
.toc-item a,
.navbar-nav .nav-link {
    font-weight: var(--font-weight-normal) !important;
}

.sidebar-item-text:hover,
.toc-item a:hover,
.navbar-nav .nav-link:hover {
    font-weight: var(--font-weight-normal) !important;
}

/* SVG text in diagrams */
svg text {
    font-family: var(--font-primary) !important;
    font-weight: var(--font-weight-normal) !important;
}

svg text.title,
svg text.heading {
    font-weight: var(--font-weight-semibold) !important;
}

svg text.code,
svg text.monospace {
    font-family: var(--font-monospace) !important;
}

/* D3 diagram specific */
.diagram-container text,
.d3-container text,
svg.d3 text {
    font-family: var(--font-primary) !important;
}

/* Remove bold from unexpected places */
.btn:not(.btn-primary):not(.btn-danger):not(.btn-warning),
.badge,
.label,
.tag {
    font-weight: var(--font-weight-normal) !important;
}

/* Ensure consistent rendering */
body {
    text-rendering: optimizeLegibility !important;
    -webkit-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
}

/* Override any inline styles with higher specificity */
[style*="font-family: serif"],
[style*="font-family: 'Times'"],
[style*="font-family: Georgia"],
[style*="font-family: Cambria"] {
    font-family: var(--font-primary) !important;
}

/* Fix Quarto's default serif fonts */
.quarto-title-meta-heading,
.quarto-title-meta-contents {
    font-family: var(--font-primary) !important;
    font-weight: var(--font-weight-normal) !important;
}

/* Ensure math formulas keep their fonts */
.katex,
.MathJax,
.math {
    font-family: inherit !important;
}

/* Print styles */
@media print {
    body {
        font-family: var(--font-primary) !important;
    }
}

/* Additional aggressive overrides for unwanted bold text */
.sidebar-item-text strong,
.sidebar-item-text b,
.toc-item strong,
.toc-item b,
.navbar-nav strong,
.navbar-nav b,
p strong,
p b,
li strong,
li b,
td strong,
td b,
div:not(.title-block) strong,
div:not(.title-block) b {
    font-weight: var(--font-weight-medium) !important;
}

/* SVG text - ensure no bold except for actual titles */
svg text:not(.title):not(.heading) {
    font-weight: var(--font-weight-normal) !important;
}

/* D3 specific - remove bold from labels */
svg .node text,
svg .label,
svg .axis text,
svg .legend text {
    font-weight: var(--font-weight-normal) !important;
}

/* Only allow bold in actual headings and titles */
h1, h2, h3, h4, h5, h6,
.title, .heading,
svg text.title,
svg text.heading,
.diagram-title {
    font-weight: var(--font-weight-semibold) !important;
}

/* Remove any inline font-weight styles */
[style*="font-weight: bold"],
[style*="font-weight: 700"],
[style*="font-weight: 600"],
[style*="font-weight:bold"],
[style*="font-weight:700"],
[style*="font-weight:600"] {
    font-weight: var(--font-weight-normal) !important;
}

/* Quarto specific - remove bold from unexpected places */
.quarto-title-meta-heading {
    font-weight: var(--font-weight-normal) !important;
    font-size: var(--font-size-small) !important;
    color: var(--bs-secondary) !important;
}

.quarto-title-meta-contents {
    font-weight: var(--font-weight-normal) !important;
}

/* Code blocks should never be bold */
pre code,
code {
    font-weight: var(--font-weight-normal) !important;
}

/* Make sure all paragraph text is normal weight */
p, .paragraph, .text-body {
    font-weight: var(--font-weight-normal) !important;
}

/* Lists should have normal weight */
ul, ol, li {
    font-weight: var(--font-weight-normal) !important;
}

/* Table cells normal weight */
td, th {
    font-weight: var(--font-weight-normal) !important;
}

/* Only table headers can be slightly heavier */
thead th {
    font-weight: var(--font-weight-medium) !important;
}